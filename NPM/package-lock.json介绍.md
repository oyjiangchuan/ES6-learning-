### package-lock.json的产生
> 该功能基于npm5+
在执行 `npm install`的时候生成，用来记录实际安装的 `npm` 包的来源和版本，可以锁定安装时的包的版本

### package-lock.json的作用
- 提升install速度(依赖树)：`package-lock.json`会保存`node_modules`中所有包的信息（版本、下载地址）这样的话重新`npm install`的时候速度会提升
- 锁定版本的作用：防止自动升级
> 当安装包的时候，会自动创建或者是更新`package-lock.json`这个文件
> 当项目中存在`package-lock.json`，直接修改`package.json`中已有依赖包的版本，重新执行`npm install`下载全部依赖 还是会按照`package-lock.json`的版本进行安装依赖；如果要升级某一个依赖包，建议单独安装该升级的依赖包；本地可以这么做，但是线上部署还是会有问题，所以建议不上传`package-lock.json`文件到git仓库中，如果需要对某些包进行锁定版本，可按照如下版本更新规则来设置`package.json`文件

### npm install 过程的分析
`package.json`文件记录你项目中所需要的所有模块。当你执行`npm install`的时候，`node`会先从`package.json`文件中读取所有`dependencies`信息，然后根据`dependencies`中的信息与`node_modules`中的模块进行对比，没有的直接下载，已有的检查更新（新版本的nodejs不会更新，因为有`package-lock.json`文件，下面再说）；另外，`package.json`文件只记录你通过`npm install`方式安装的模块信息，而这些模块所依赖的其他子模块的信息不会记录

`package-lock.json`文件锁定所有模块的版本号，包括主模块和所有依赖子模块；当你执行`npm install`的时候，`node`从`package.json`文件读取模块名称，从`package-lock.json`文件中获取版本号，然后进行下载或者更新；

因此，正因为有了`package-lock.json`文件锁定版本号，所以当你执行`npm install`的时候，`node`不会自动更新`package.json`文件中的模块，必须用`npm install packagename`（自动更新小版本号）或者`npm install packagename@x.x.x`（指定版本号）来进行安装才会更新，`package-lock.json`文件中的版本号也会随着更新

### 版本介绍
版本号遵循`主版本号.次版本号.修订号`的格式规定
- 固定版本：精确匹配版本，如1.0.0，安装依赖只会安装1.0.0版本
- 波浪号(～)：不会改变主版本号和次版本号(如果住版本和次版本存在)
```js
~1.2.3 => 1.2.3 <= version < 1.3.0	// 只更新补丁版本，不更新次要版本
~1.0.0 => 1.0.0 <= version < 2.0.0	// 没有指定次要版本，允许更新次要版本
```
- 插入号(^)：不允许第一个非零数字（从左到右）的更新
```js
^1.2.3 => 1.2.3 <= version < 2.0.0	// 不允许第一个非零数字（从左到右）的更新
^0.1.2 => 0.1.2 <= version < 0.2.0	// 不允许第一个非零数字（从左到右）的更新
^1.0.0 => 1.0.0 <= version < 2.0.0	// 不允许第一个非零数字（从左到右）的更新
```
- 等于号(=)：小于等于当前版本
```js
=1.0.0 => 1.0.0 <= version	// 小于等于当前版本
```
- latest：安装最新的版本

### 参考
[node中package.json和package-lock.json文件的作用](https://blog.csdn.net/qq_34412985/article/details/85333862)
[]